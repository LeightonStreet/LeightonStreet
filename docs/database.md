This page introduces the database design.

Role Collection
---------------
| name        | type   | default | max length | min length | required | unique | regex | description             |
|-------------|--------|---------|------------|------------|----------|--------|-------|-------------------------|
| name        | string |         | 80         |            |          | true   |       | name of the role        |
| description | string |         | 255        |            |          |        |       | description of the role |

User Collection
---------------
| name                 | type                       | default  | max length | min length | required | unique | regex | description                                          |
|----------------------|----------------------------|----------|------------|------------|----------|--------|-------|------------------------------------------------------|
| name                 | string                     |          | 255        |            |          |        |       | display name of user                                 |
| email                | email                      |          | 255        |            |          | true   |       | user email                                           |
| password             | string                     |          | 255        |            |          |        |       | user password                                        |
| active               | boolean                    | true     |            |            |          |        |       | user active or not                                   |
| confirm_at           | datetime                   |          |            |            |          |        |       | time of user email confirmation                      |
| roles                | list (reference:[Role](https://github.com/LeightonStreet/LingoBarter/wiki/Database-Design#role-collection))      | []       |            |            |          |        |       | roles list of user                                   |
| last_login_at        | datetime                   |          |            |            |          |        |       | last login time                                      |
| current_login_at     | datetime                   |          |            |            |          |        |       | current login time                                   |
| last_login_ip        | string                     |          | 255        |            |          |        |       | last login ip                                        |
| current_login_ip     | string                     |          | 255        |            |          |        |       | current login ip                                     |
| login_count          | int                        |          |            |            |          |        |       | login times count                                    |
| username             | string                     |          | 50         |            | false    | true   |       | currently generated by name field                    |
| remember_token       | string                     |          | 255        |            |          |        |       | remember login token                                 |
| authentication_token | string                     |          | 255        |            |          |        |       | authentication token                                 |
| tagline              | string                     |          | 255        |            |          |        |       | user short tagline                                   |
| bio                  | string                     |          |            |            |          |        |       | user long self-introduction                          |
| links                | list (embedded: UserLink)  |          |            |            |          |        |       | user social networking external links                |
| use_avatar_from      | string                     | gravatar |            |            |          |        |       | choices between (gravatar, url, upload and facebook) |
| gravatar_email       | email                      |          | 255        |            |          |        |       | for choice gravatar                                  |
| avatar_file_path     | string                     |          |            |            |          |        |       | for choice upload                                    |
| avatar_url           | string                     |          | 255        |            |          |        |       | for choice url                                       |
| teach_langs          | list (reference: Language) | []       |            |            |          |        |       | languages user teaches                               |
| learn_langs          | list (reference: Language) | []       |            |            |          |        |       | languages user learns                                |
| location             | embedded: Location         |          |            |            |          |        |       | location type & location coordinate                  |
| place                | reference: Place           |          |            |            |          |        |       | place document                                       |
| birthdate            | datetime                   |          |            |            | true     |        |       | use birthdate to generate virtual property age       |
| gender               | string                     | unknown  |            |            | true     |        |       | choices between (male, female, unknown)              |